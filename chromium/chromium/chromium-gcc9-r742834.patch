From e2c7f4b29abf55db20d957616e3691ae69c279d0 Mon Sep 17 00:00:00 2001
From: Jose Dapena Paz <jdapena@igalia.com>
Date: Wed, 19 Feb 2020 22:29:56 +0000
Subject: [PATCH] GCC: SizeBounds setters cannot be constexpr
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

As base::Optional move assignment operator is not constexpr, the
setters using it cannot be constexpr either.

Bug: 819294
Change-Id: I0c6e0325728f05ff9d6d892a3508ebb1b21a85c3
Reviewed-on: https://chromium-review.googlesource.com/c/chromium/src/+/2041611
Reviewed-by: Allen Bauer <kylixrd@chromium.org>
Commit-Queue: Jos√© Dapena Paz <jdapena@igalia.com>
Cr-Commit-Position: refs/heads/master@{#742834}
---
 ui/views/layout/layout_types.h | 8 ++------
 1 file changed, 2 insertions(+), 6 deletions(-)

diff --git a/ui/views/layout/layout_types.h b/ui/views/layout/layout_types.h
index 13ef5f915478..9670138eaa86 100644
--- a/ui/views/layout/layout_types.h
+++ b/ui/views/layout/layout_types.h
@@ -45,14 +45,10 @@ class VIEWS_EXPORT SizeBounds {
   ~SizeBounds() = default;
 
   constexpr const base::Optional<int>& width() const { return width_; }
-  constexpr void set_width(base::Optional<int> width) {
-    width_ = std::move(width);
-  }
+  void set_width(base::Optional<int> width) { width_ = std::move(width); }
 
   constexpr const base::Optional<int>& height() const { return height_; }
-  constexpr void set_height(base::Optional<int> height) {
-    height_ = std::move(height);
-  }
+  void set_height(base::Optional<int> height) { height_ = std::move(height); }
 
   // Enlarges (or shrinks, if negative) each upper bound that is present by the
   // specified amounts.
-- 
2.25.2

