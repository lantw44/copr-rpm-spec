From c0c44a6452c9594ed1d36f28b7d1f7dfbda4ca03 Mon Sep 17 00:00:00 2001
From: Nathaniel Cesario <nathaniel@lunarg.com>
Date: Wed, 19 Apr 2023 10:03:44 -0600
Subject: [PATCH] build: Fixes for GCC 13

- Update VMA to ff37e927
- Update googletest v1.13.0
---
 layers/external/vma/vk_mem_alloc.h | 807 ++++++++++++++++-------------
 layers/stateless/parameter_name.h  |   1 +
 scripts/known_good.json            |   2 +-
 3 files changed, 435 insertions(+), 375 deletions(-)

diff --git a/layers/external/vma/vk_mem_alloc.h b/layers/external/vma/vk_mem_alloc.h
index b47bd730c..823cef8ad 100644
--- a/third_party/vulkan-deps/vulkan-validation-layers/src/layers/external/vma/vk_mem_alloc.h
+++ b/third_party/vulkan-deps/vulkan-validation-layers/src/layers/external/vma/vk_mem_alloc.h
@@ -2591,27 +2614,10 @@ VMA_CALL_PRE void VMA_CALL_POST vmaFreeStatsString(
     #include <bit> // For std::popcount
 #endif
 
-#if defined(__GNUC__)
-#define GCC_VERSION (__GNUC__ * 10000 + __GNUC_MINOR__ * 100 + __GNUC_PATCHLEVEL__)
-#pragma GCC diagnostic push
-#pragma GCC diagnostic ignored "-Wtype-limits"
-#pragma GCC diagnostic ignored "-Wunused-variable"
-#pragma GCC diagnostic ignored "-Wimplicit-fallthrough"
-#if defined(__clang__)
-#pragma clang diagnostic push
-#pragma clang diagnostic ignored "-Wtautological-compare"
-#pragma clang diagnostic ignored "-Wnullability-completeness"
-#pragma clang diagnostic ignored "-Wimplicit-fallthrough"
-#endif
-#if GCC_VERSION >= 80000
-#pragma GCC diagnostic ignored "-Wclass-memaccess"
-#endif
-#if defined(ANDROID)
-#pragma GCC diagnostic ignored "-Wunused-private-field"
-#endif
+#if VMA_STATS_STRING_ENABLED
+    #include <cstdio> // For snprintf
 #endif
 
-
 /*******************************************************************************
 CONFIGURATION SECTION
 
-- 
2.40.1

